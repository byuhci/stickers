<div class="card">
    <div *ngFor="let sensor of sensors">
        <div class='card-header d-flex'>

            <toolbox-sensors
                [sensor]="sensor"
                [channels]="channels">
            </toolbox-sensors>

            <toolbox-labelstreams 
                [sensor]="sensor" 
                [(labelstreams)]="labelStreams" 
                (remove)="removeStream($event)">
            </toolbox-labelstreams>

            <toolbox-modes 
                [sensor]="sensor" 
                [tracker]="mode">
            </toolbox-modes>

            <toolbox-types 
                [sensor]="sensor" 
                [colorer]="colorer" 
                [(labelstream)]="labelStreams[sensor.labelstream]">
            </toolbox-types>

            <div class='right'>
                <i *ngIf="!sensor.hidden" (click)="hide(sensor)" class="material-icons icon" title='hide' aria-label="hide">remove</i>
                <i *ngIf="!sensor.hidden" (click)="remove(sensor)" class="material-icons icon" title='close' aria-label="hide">close</i>
                <i *ngIf="sensor.hidden" (click)="show(sensor)" class="material-icons icon" title='show' aria-label="show">add</i>
            </div>
        </div>
        <app-databar  
            *ngIf="!sensor.hidden"
            [data_info]="data_info" 
            [sensor]="sensor"
            [mode]="mode"
            [transform]="zoom_transform"
            [colorer]="colorer"
            [(labelstream)]="labelStreams[sensor.labelstream]"
            (zoom)="onZoom($event)">
        </app-databar>
    </div>
    <div class="card-header">
        <div class="right">
                <button class="btn btn-info" (click)="newSensor()" title="add sensor">
                        <i class="material-icons icon">add</i>
                </button>
        </div>
    </div>
</div>

<div class='card text-white bg-secondary mb-3'>
    <div class="btn-group mr-3">
        <button type="button" class="btn btn-success" (click)="save_labels()">Save Labels</button>
        <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
            <button class="btn btn-success dropdown-toggle-split" ngbDropdownToggle></button>
            <div class="dropdown-menu" ngbDropdownMenu>
                <div *ngFor="let stream of streams" (click)="change_ls(stream)" class="dropdown-item">{{stream}}</div>
            </div>
        </div>
    </div>
</div>